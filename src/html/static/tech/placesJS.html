<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />

  <style
    inline-source
    src="../public/styles/sharedHtmlOnlyStyles.css"
  ></style>
  <link rel="icon" type="image/ico" href="/assets/images/favicon.ico" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>places.js framework documentation</title>
</head>
<body>
<div id="container">
  {{>navbar}}


  <h1>Documentation for places.js framework</h1>
  <p> Code for places.js is <a href="https://github.com/gatherspiel/places-js">here </a></p>

  <h2>Classes</h2>

  <h3>BaseDynamicComponent</h3>

  <p>This is the base class represents a state based UI component with support for asynchronous data fetching. It also
  has styles scoped to the ShadowDOM.</p>

  <p>constructor paramaeters </p>

  <ul>
    <li>dataStoreSubscriptions(default []): An array of subscription configurations the component will subscribe to. Each configuration can have the following parameters</li>
    <ul>
      <li><a href="#data-store-class-guide"> dataStore</a>: The DataStore that that will load and store state. </li>
      <li>fieldName: The name that the subscribed data should be stored under. This is an optional field unless the component is subscribed to multiple stores.</li>
      <li><a href="#component-reducer-function-guide">componentReducer(optional)</a>Describes any transformations that should be made to state data being sent to a component</li>
    </ul>
    <li>loadingIndicatorConfig(default={}): Configuration settings for a loading indicator. If this parameter is empty, a loading indicator will not be shown.</li>
  </ul>

  <h3>BaseTemplateComponent</h3>

  <div id = "data-store-class-guide">

    <h3>DataStore</h3>
    <p>This class is responsible for storing state and fetching data from an external source</p>
      <ul>
        <li><a href="#data-store-load-action-class-guide">loadAction: </a>An instance of DataStoreLoadAction describing how data should be loaded</li>
      </ul>
    <p>DataStore example</p>
    <pre>
      import { ApiLoadAction, DataStore } from "@bponnaluri/places-js";
      import { API_ROOT } from "../../ui/shared/Params.js";

      function getUserQueryConfig() {
        return {
          url: API_ROOT + "/user",
        };
      }

      export const USER_DATA_STORE = new DataStore(
        new ApiLoadAction(getUserQueryConfig),
      );

    </pre>
  </div>

  <h2>Objects</h2>

  <h3>ApiActionType</h3>
  <div id = "data-store-load-action-class-guide">
    <h3>DataStoreLoadAction</h3>
    <p>This class defines an action used to load data into a store. Places.js includes two types of actions</p>
    <ul>
      <li><a href="#api-load-action-class-guide">APILoadAction</a></li>
      <li><a href="#custom-load-action-class-guide">CustomLoadAction</a></li>
    </ul>
    <div id="api-load-action-class-guide">
      <h3>ApiLoadAction</h3>
      <p>Class to define a data store load action through an API call.</p>
    </div>

    <div id="custom-load-action-class-guide">
      <h3>CustomLoadAction</h3>
      <p>Class to define a custom data store load action with direct control over any async calls that are made.
        It is intended for use when additional processing needs to be done after an async call, or if a store needs
        to combine data from multiple sources.</p>
    </div>
  </div>

  <h2>Functions</h2>

    <h3>clearSessionStorage</h3>

    <p>Example to clear session storage </p>
    <pre>
      clearSessionStorage();
    </pre>

    <div id="component-reducer-function-guide">
      <h3>componentStoreReducer</h3>
      <code>
        componentReducer: (groupData) => {
            return {
            ...groupData,
            [SUCCESS_MESSAGE_KEY]: "",
          };
        },
      </code>
    </div>

   <h3>Add localStorageData</h3>
   <h3>Delete localStorageData</h3>
   <h3>getLocalStorageDataIfPresent</h3>

</div>

<div id="bot-container"></div>
{{>footer}}
</body>
</html>
